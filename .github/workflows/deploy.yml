name: deploy

on: 
  workflow_dispatch: 

jobs:
  deploy: 
    name: Deploy the ACTUALYZD master to AWS
    runs-on: ubuntu-22.04
    steps:
      - name: Deploy
        uses: appleboy/ssh-action@v0.1.8
        with:
          host: 18.141.190.251
          port: 22
          username: actualyzduser
          key: ${{secrets.PRIVATE_KEY}}
          script: "cd www; git pull origin master"
  build-node:
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 16
      - run: npm config set legacy-peer-deps=true
      - run: npm ci
      - run: npm install

    